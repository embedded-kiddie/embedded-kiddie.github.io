<!DOCTYPE html>
<html lang="en"><head>
  <script>'use strict';if("embedded-kiddie.github.io"===window.location.hostname){var s=document.createElement("script");s.src="https://www.googletagmanager.com/gtag/js?id=G-DLMCZ884M2";document.head.appendChild(s);window.dataLayer=window.dataLayer||[];function a(){dataLayer.push(arguments)}a("js",new Date);a("config","G-DLMCZ884M2")};</script>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>JSONãƒ‡ãƒ¼ã‚¿ã®èµ°æŸ» - Arduinoç”¨JSONãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®æ¯”è¼ƒ - Arduino_JSON vs ArduinoJson | Embedded Kiddie</title>
<meta name="generator" content="Jekyll v4.3.3" />
<meta property="og:title" content="JSONãƒ‡ãƒ¼ã‚¿ã®èµ°æŸ» - Arduinoç”¨JSONãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®æ¯”è¼ƒ - Arduino_JSON vs ArduinoJson" />
<meta name="author" content="Kingsman" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="ä»Šå›ã®ãŠé¡Œ" />
<meta property="og:description" content="ä»Šå›ã®ãŠé¡Œ" />
<link rel="canonical" href="https://embedded-kiddie.github.io/2025/11/16/" />
<meta property="og:url" content="https://embedded-kiddie.github.io/2025/11/16/" />
<meta property="og:site_name" content="Embedded Kiddie" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-11-16T12:16:14+09:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="JSONãƒ‡ãƒ¼ã‚¿ã®èµ°æŸ» - Arduinoç”¨JSONãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®æ¯”è¼ƒ - Arduino_JSON vs ArduinoJson" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Kingsman"},"dateModified":"2025-11-19T09:17:55+09:00","datePublished":"2025-11-16T12:16:14+09:00","description":"ä»Šå›ã®ãŠé¡Œ","headline":"JSONãƒ‡ãƒ¼ã‚¿ã®èµ°æŸ» - Arduinoç”¨JSONãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®æ¯”è¼ƒ - Arduino_JSON vs ArduinoJson","mainEntityOfPage":{"@type":"WebPage","@id":"https://embedded-kiddie.github.io/2025/11/16/"},"url":"https://embedded-kiddie.github.io/2025/11/16/"}</script>
<!-- End Jekyll SEO tag -->

  <style type="text/css">body,h1,h2,h3,h4,h5,h6,p,blockquote,pre,hr,dl,dd,ol,ul,figure{margin:0;padding:0}body{font:400 16px/2 -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";color:#111;background-color:#fdfdfd;-webkit-text-size-adjust:100%;-webkit-font-feature-settings:"kern" 1;-moz-font-feature-settings:"kern" 1;-o-font-feature-settings:"kern" 1;font-feature-settings:"kern" 1;font-kerning:normal;display:flex;min-height:100vh;flex-direction:column}p,blockquote,pre,ul,ol,dl,figure{margin-bottom:1em}h1,h2,h3,h4,h5,h6{padding-top:1em;margin-bottom:1em;clear:both}main{display:block}img{max-width:100%;vertical-align:middle;height:auto}figure>img{display:block}figcaption{font-size:14px;max-width:230px;width:fit-content;margin-right:auto;margin-left:auto;text-align:center}ul,ol{margin-left:1em}li>ul,li>ol{margin-bottom:0}h1,h2,h3,h4,h5,h6{font-weight:400}.e-content h1,.e-content h2,.e-content h3,.e-content h4,.e-content h5,.e-content h6{font-weight:600}h2+h3,h3+h4,h4+h5{padding-top:0}a{color:#2a7ae2;text-decoration:none}a:visited{color:#1756a9}a:hover{color:#111;text-decoration:underline}.social-media-list a:hover{text-decoration:none}.social-media-list a:hover .username{text-decoration:underline}blockquote{color:#707070;border-left:4px solid #d6d6d6;padding-left:.5em;font-size:18px;letter-spacing:-1px;font-style:italic}blockquote>:last-child{margin-bottom:0}pre,code{font-size:15px;border:1px solid #d6d6d6;border-radius:3px;background-color:#eef}code{padding:1px 5px}pre{position:relative;padding:8px 12px;overflow-x:auto}pre>code{border:0;padding-right:0;padding-left:0}.wrapper{max-width:-webkit-calc(800px - (1em * 2));max-width:calc(800px - 1em*2);margin-right:auto;margin-left:auto;padding-right:1em;padding-left:1em}@media screen and (max-width: 800px){.wrapper{max-width:-webkit-calc(800px - (1em));max-width:calc(800px - (1em));padding-right:.5em;padding-left:.5em}}.footer-col-wrapper:after,.wrapper:after{content:"";display:table;clear:both}.svg-icon{width:16px;height:16px;display:inline-block;fill:#707070;padding-right:5px;vertical-align:text-top}.social-media-list li+li{padding-top:5px}table{margin-bottom:1em;width:100%;text-align:left;font-size:85%;color:#1e1e1e;border-collapse:collapse;border:1px solid #d6d6d6}table tr:nth-child(even){background-color:#f7f7f7}table th,table td{padding:.3333333333em .5em}table th{background-color:#e5e5e5;border:1px solid #c2c2c2;border-bottom-color:#b7b7b7}table td{border:1px solid #d6d6d6}h5{font-size:1em}.post-content{font-size:1.125rem}.center{text-align:center}.float-left{float:left;margin:0 .75em 0 0;padding:0 .75em 0 0;width:30%}.clear-both{clear:both}video{max-width:100%;padding:0 0 1em 0;margin:auto}a[href^=http]:not(.simple):after{content:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAQElEQVR42qXKwQkAIAxDUUdxtO6/RBQkQZvSi8I/pL4BoGw/XPkh4XigPmsUgh0626AjRsgxHTkUThsG2T/sIlzdTsp52kSS1wAAAABJRU5ErkJggg==);margin:0 3px 0 5px}figure.flex{display:flex;text-align:center;justify-content:space-around}figure.flex a{margin:0 .25em}img{margin:.5em 0 1em 0;box-shadow:0 5px 10px 0 rgba(0,0,0,.1)}img.emoji{height:1.5em;width:1.5em;margin:0 0 .25em 0;box-shadow:none}span.emoji{font-size:1.5em;line-height:1em}span.inline img{height:1.5em;margin:0;box-shadow:none}td img{margin-bottom:0}img.simple{box-shadow:none;width:100%}.twitter-tweet{padding-bottom:.5em}.quote,.notice{padding:.5em 1em;margin:1em 0 2em 0;color:#505050;background:#fff;border-radius:10px}.quote h3,.quote h4,.quote h5,.quote p:last-child,.notice h3,.notice h4,.notice h5,.notice p:last-child{margin:0;padding:0}.quote{border:solid 3px #5c81e6}.notice{border:solid 3px #e01b7e}figcaption{margin-bottom:1em}footer.site-footer div{font-size:16px !important}header h1,footer div{line-height:1.5}.pagetop{height:50px;width:50px;position:fixed;right:30px;bottom:50px;background:#fff;border:solid 2px #000;border-radius:50%;display:flex;justify-content:center;align-items:center;z-index:2;cursor:pointer;transition:all .3s;opacity:0;visibility:hidden}.pagetop_arrow{display:block;height:10px;width:10px;border-top:3px solid #000;border-right:3px solid #000;transform:translateY(20%) rotate(-45deg)}.pagetop.fadeIn{opacity:.5;visibility:inherit}.pagetop:hover{opacity:1}.pager{clear:both;margin:2em 0;border-top:1px solid #c8c8c8;border-bottom:1px solid #c8c8c8}.pager p{line-height:1.5em;margin:.5em 0}.pager p.next{float:right}.pager p.prev{float:left}details{margin-bottom:1em}details:hover{cursor:pointer}details summary{font-weight:bold}details summary h3,details summary h4,details summary h5,details summary h6{padding:0;display:inline}.lum-open .lum-img{margin:0 !important}button.simple{background-color:rgba(0,0,0,0);border:none;cursor:pointer;outline:none;padding:0;appearance:none}button.simple img{box-shadow:none;width:100%;height:auto}#disqus_thread{clear:both;position:relative}#disqus_thread span{position:absolute;font-weight:bold}.items-list :is(ul,ol) li{list-style:none;padding:.5rem 1rem}.items-list :is(ul,ol) li:nth-child(even){background:#f4f4f5}.items-list :is(ul,ol) time{padding:0 .25rem;color:#707070;white-space:nowrap}.strong{color:#003cb9 !important;font-weight:bold}table{caption-side:bottom}table caption{margin:.5em}pre.mermaid{border:none;background-color:inherit}.code-copy{position:absolute;top:6px;right:0px;padding:0px 6px 0px;border:none;opacity:.7;transition:.3s;background-color:rgba(0,0,0,0)}.code-copy:hover{cursor:pointer;opacity:1}.code-copy::before{content:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAA51BMVEUALlw8VGulqa6/xsu/xMoCLlg3Um+ut73EyM7CxsvAxsuwt7yhp61+hYtlbHJob3VrcndqcHZnbnOFjJH2+//////y9/uNlJre5Om8wse/w8i7wMa7v8Tj6O6fpqxka3Dr8Pb0+f5cY2hhaG57gYaFjJCEi5CIj5OMk5jp7/T3+/9fZWu5v8Separd4ed5gIWBiI2Ahox7gojn7PLKz9VgZ2zs8vfL0dZjam/u8/n6/v/HzdJyeX6bo6dlbnJsc3nV2uBvdnt3foTW3OGutLmhpqywtbuutLuwtbyWnKI7VGsALlgLMVV3qM2OAAAA4UlEQVR4Ac3T02LFQBCA4diZiY5tu3Zqvf/r1M6ibr/r/2Z3ZgRBlGSFQpZEVdB0w7QoTMMWBclwXCrHkATZcgEpwLVkQbFc9CjQtZRvDBD9RwESAgyj1KN0BpMBZFO5fK5wq1gqV/xEEFRr9UYzbN1otzvdJiaCXn8wTD0bQTKopMaT6Z3ZPLUgBJBaWsZ7g5VeQApW17x7jfV/GcBiI2AGlc3UFjPw59se8x88f2c3tRfv34uj6tvgRnCQenYIycCPj45P7p2e+aSV86HyCL5zabmHwz29c5tzvBfs87+8Bgn4SREbQzrqAAAAAElFTkSuQmCC)}.code-copy-notice{position:absolute;visibility:hidden;pointer-events:none;z-index:1;top:5px;right:calc(100% + 4px);padding:2px 6px 0px;border-radius:3px;font-weight:bold;font-size:13px;color:#000;background:#fff}.code-copy-notice-after{visibility:visible}.site-header{border-top:5px solid #303030;border-bottom:1px solid #d6d6d6;min-height:1.865em;position:relative}.site-title{font-size:26px;font-weight:300;line-height:72px;margin-bottom:0;float:left}.site-title,.site-title:visited{color:#303030}.site-nav{float:right;line-height:72px}.site-nav .nav-trigger{display:none}.site-nav .menu-icon{display:none}.site-nav .page-link{color:#111;line-height:2}.site-nav .page-link:not(:last-child){margin-right:20px}@media screen and (max-width: 600px){.site-nav{position:absolute;top:9px;right:.5em;background-color:#fdfdfd;border:1px solid #d6d6d6;border-radius:5px;text-align:right}.site-nav label[for=nav-trigger]{display:block;float:right;width:36px;height:36px;z-index:2;cursor:pointer}.site-nav .menu-icon{display:block;float:right;width:36px;height:26px;line-height:0;padding-top:10px;text-align:center}.site-nav .menu-icon>svg{fill:#303030}.site-nav input~.trigger{clear:both;display:none}.site-nav input:checked~.trigger{display:block;padding-bottom:5px}.site-nav .page-link{display:block;padding:5px 10px;margin-left:20px}.site-nav .page-link:not(:last-child){margin-right:0}}.site-footer{border-top:1px solid #d6d6d6;padding:1em 0}.footer-heading{font-size:18px;margin-bottom:.5em}.contact-list,.social-media-list{list-style:none;margin-left:0}.footer-col-wrapper{font-size:15px;color:#707070;margin-left:-0.5em}.footer-col{float:left;margin-bottom:.5em;padding-left:.5em}.footer-col-1{width:-webkit-calc(27% - (1em / 2));width:calc(27% - 1em/2)}.footer-col-2{width:-webkit-calc(26% - (1em / 2));width:calc(26% - 1em/2)}.footer-col-3{width:-webkit-calc(47% - (1em / 2));width:calc(47% - 1em/2)}@media screen and (max-width: 800px){.footer-col-1,.footer-col-2{width:-webkit-calc(50% - (1em / 2));width:calc(50% - 1em/2)}.footer-col-3{width:-webkit-calc(100% - (1em / 2));width:calc(100% - 1em/2)}}@media screen and (max-width: 600px){.footer-col{float:none;width:-webkit-calc(100% - (1em / 2));width:calc(100% - 1em/2)}}.page-content{padding:1em 0;flex:1}.page-heading{font-size:32px}.post-list-heading{font-size:28px}.post-list{margin-left:0;list-style:none}.post-list>li{margin-bottom:1em}.post-meta{font-size:14px;color:#707070}.post-link{display:block;font-size:24px}.post-header{margin-bottom:1em}.post-title{font-size:36px}@media screen and (max-width: 800px){.post-title{line-height:1}}.post-content{margin-bottom:1em}.post-content h2{font-size:32px}@media screen and (max-width: 800px){.post-content h2{font-size:28px}}.post-content h3{font-size:26px}@media screen and (max-width: 800px){.post-content h3{font-size:22px}}.post-content h4{font-size:22px}@media screen and (max-width: 800px){.post-content h4{font-size:18px}}code{font-size:16px !important;font-family:Consolas,Menlo,Monaco,-apple-system,BlinkMacSystemFont,"Segoe UI",Meiryo,monospace !important}.highlight{clear:both}.highlight pre,.highlight code{line-height:1.5;background-color:#002346}figure.highlight,div.highlight,.highlight pre{border-radius:9px}.highlight table td{padding:5px}.highlight table pre{margin:0}.highlight,.highlight .w{color:#c9d1d9;background-color:#161b22}.highlight .k,.highlight .kd,.highlight .kn,.highlight .kp,.highlight .kr,.highlight .kt,.highlight .kv{color:#ff7b72}.highlight .gr{color:#f0f6fc}.highlight .gd{color:#ffdcd7;background-color:#67060c}.highlight .nb{color:#ffa657}.highlight .nc{color:#ffa657}.highlight .no{color:#ffa657}.highlight .nn{color:#ffa657}.highlight .sr{color:#7ee787}.highlight .na{color:#7ee787}.highlight .nt{color:#7ee787}.highlight .gi{color:#aff5b4;background-color:#033a16}.highlight .kc{color:#79c0ff}.highlight .l,.highlight .ld,.highlight .m,.highlight .mb,.highlight .mf,.highlight .mh,.highlight .mi,.highlight .il,.highlight .mo,.highlight .mx{color:#79c0ff}.highlight .sb{color:#79c0ff}.highlight .bp{color:#79c0ff}.highlight .ne{color:#79c0ff}.highlight .nl{color:#79c0ff}.highlight .py{color:#79c0ff}.highlight .nv,.highlight .vc,.highlight .vg,.highlight .vi,.highlight .vm{color:#79c0ff}.highlight .o,.highlight .ow{color:#79c0ff}.highlight .gh{color:#1f6feb;font-weight:bold}.highlight .gu{color:#1f6feb;font-weight:bold}.highlight .s,.highlight .sa,.highlight .sc,.highlight .dl,.highlight .sd,.highlight .s2,.highlight .se,.highlight .sh,.highlight .sx,.highlight .s1,.highlight .ss{color:#a5d6ff}.highlight .nd{color:#d2a8ff}.highlight .nf,.highlight .fm{color:#d2a8ff}.highlight .err{color:#f0f6fc}.highlight .c,.highlight .ch,.highlight .cd,.highlight .cm,.highlight .cp,.highlight .cpf,.highlight .c1,.highlight .cs{color:#acb4bd}.highlight .gl{color:#acb4bd}.highlight .gt{color:#acb4bd}.highlight .ni{color:#c9d1d9}.highlight .si{color:#c9d1d9}.highlight .ge{color:#c9d1d9;font-style:italic}.highlight .gs{color:#c9d1d9;font-weight:bold}/*# sourceMappingURL=/assets/main.css.map */</style>
  <link rel="icon" href="/assets/favicon.ico" />
  <link type="application/atom+xml" rel="alternate" href="https://embedded-kiddie.github.io/feed.xml" title="Embedded Kiddie" />
  
</head>
<body>
<header class="site-header" role="banner">
  <div class="wrapper"><a class="site-title" rel="author" href="/">Embedded Kiddie</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>
        <div class="trigger"><a class="page-link" href="/about/">About</a><a class="page-link" href="/privacy/">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">JSONãƒ‡ãƒ¼ã‚¿ã®èµ°æŸ» - Arduinoç”¨JSONãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®æ¯”è¼ƒ - Arduino_JSON vs ArduinoJson</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2025-11-16T12:16:14+09:00" itemprop="datePublished">Nov 16, 2025
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h2 id="ä»Šå›ã®ãŠé¡Œ">ä»Šå›ã®ãŠé¡Œ</h2>

<p>ç›¸å¤‰ã‚ã‚‰ãšãƒãƒãƒãƒã¨è£½ä½œä¸­ã® MP3 ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã§ã€ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆåˆ¥ã« SD ã‚«ãƒ¼ãƒ‰ã«ä¿å­˜ã•ã‚ŒãŸå…¨ã‚¢ãƒ«ãƒãƒ ã‹ã‚‰ã€ã€ŒJPOPã€ã‚„ã€ŒROCKã€ãªã©ã®ã‚«ãƒ†ã‚´ãƒªã§ãŠæ°—ã«å…¥ã‚Šã‚’é¸æŠã—ã€ãƒ—ãƒ¬ã‚¤ãƒªã‚¹ãƒˆã¨ã—ã¦ JSON ãƒ‡ãƒ¼ã‚¿ã‚’ SD ã‚«ãƒ¼ãƒ‰ã«ä¿å­˜ã™ã‚‹æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã‚ˆã†ã¨ã—ã¦ã„ã¾ã™ã€‚</p>

<p>ä¾‹ãˆã°ã€JSON ãƒ‡ãƒ¼ã‚¿ã¯ã“ã‚“ãªæ„Ÿã˜ã§ã™ã€‚</p>

<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"JPOP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"path"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"BoA"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"BEST OF SOUL"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"Superfly"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"Amazing"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ROCK"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"path"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"ã‚µã‚¶ãƒ³ã‚ªãƒ¼ãƒ«ã‚¹ã‚¿ãƒ¼ã‚º"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"2018"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"æµ·ã®Oh, Yeah!!"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"2014"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"KAMAKURA"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"SOUTHERN ALL STARS"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"ãƒãƒ©ãƒƒãƒ‰3 ï½the album of LOVEï½"</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"RADWIMPS"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"FOREVER DAZE"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ä½™å‘½10å¹´ ã€œOriginal Soundtrackã€œ"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"ONE OK ROCK"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"35xxxv"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"DETOX"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"äººç”Ÿ x åƒ•="</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span></code></pre></figure>

<p><code class="language-plaintext highlighter-rouge">"path"</code> ã¨ã—ã¦ã„ã‚‹ã®ã¯ã€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåã‚’è¡¨ã™ã€Œã‚­ãƒ¼ã€ã‚„ã€Œå€¤ã€ã‚’ <code class="language-plaintext highlighter-rouge">/</code> ã§ç¹‹ã’ã¦ã‚¢ãƒ«ãƒãƒ ã¸ã®ãƒ‘ã‚¹ã¨ã™ã‚‹ãŸã‚ã§ã™ã€‚</p>

<p>ã¨ã„ã†ã“ã¨ã§ã€SD ã‚«ãƒ¼ãƒ‰ã«ä¿å­˜ã•ã‚ŒãŸ JSON ãƒ‡ãƒ¼ã‚¿ã‚’èµ°æŸ»ã—ã€ãŠæ°—ã«å…¥ã‚Šã®ã‚¢ãƒ«ãƒãƒ ã¸ã®ãƒ‘ã‚¹ã‚’æŠ½å‡ºã™ã‚‹ã“ã¨ãŒã€ä»Šå›ã®ãŠé¡Œã§ã™ã€‚</p>

<h2 id="è©¦ã—ãŸ-json-ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®æ¦‚è¦">è©¦ã—ãŸ JSON ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®æ¦‚è¦</h2>

<p>Arduino IDE ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒãƒãƒ¼ã‚¸ãƒ£ã§ <code class="language-plaintext highlighter-rouge">json</code> ã‚’æ¤œç´¢ã™ã‚‹ã¨ã€æ§˜ã€…ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒãƒ’ãƒƒãƒˆã—ã¾ã™ãŒã€ä»Šå›ã¯æ¬¡ã®ï¼’ã¤ã‚’ãƒ”ãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ã¾ã—ãŸã€‚</p>

<h3 id="arduino_json"><a href="https://github.com/arduino-libraries/Arduino_JSON" title="arduino-libraries/Arduino_JSON: Official JSON Library for Arduino">Arduino_JSON</a></h3>

<figure class="float-left">
  <a href="/images/2025/11-16/Arduino_JSON.png" title="Arduino_JSON" data-lightbox="image">
    <img src="/images/2025/11-16/Arduino_JSON.png" alt="Arduino_JSON" width="440" height="350" />
    <figcaption>Arduino_JSON</figcaption>
  </a>
</figure>

<p><a href="https://github.com/arduino-libraries" title="Arduino Libraries">Arduino Libraries</a> ã«åã‚ã‚‰ã‚ŒãŸ Arduino è¬¹è£½ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚<a href="https://github.com/DaveGamble/cJSON" title="DaveGamble/cJSON: Ultralightweight JSON parser in ANSI C">DaveGamble/cJSON</a> ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ 1.7.14 ã‚’å…ƒã« Arduino ã§ã®ä½¿ç”¨ã‚’å®¹æ˜“ã«ã™ã‚‹ã€Javascript ãƒ©ã‚¤ã‚¯ãªï¼ˆã¨ã„ã†ã‹æ„å›³çš„ã«å¯„ã›ãŸï¼‰ãƒ©ãƒƒãƒ‘ãƒ¼ã¨ã—ã¦ä½œã‚‰ã‚Œã¦ã„ã¾ã™ã€‚AVR ç³»ç”¨ã«ç‹¬è‡ªã«è¿½åŠ ã•ã‚ŒãŸã‚³ãƒ¼ãƒ‰ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã®ã§ã€8ãƒ“ãƒƒãƒˆç³»ã®ãƒã‚¤ã‚³ãƒ³ã§ã‚‚ãã‚Œãªã‚Šã«å‹•ä½œã™ã‚‹ã¨æ€ã‚ã‚Œã¾ã™ã€‚</p>

<p>ãŸã ã—ã€å…ƒã® cJSON ã«å­˜åœ¨ã—ãŸ <a href="https://github.com/search?q=repo%3ADaveGamble%2FcJSON+CVE&amp;type=pullrequests" title="Pull request search results">ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å•é¡Œã¸ã®å¯¾ç­–</a> ã«è¿½å¾“ã§ãã¦ã„ã¾ã›ã‚“ã€‚ç¾ãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼ˆ0.2.0ï¼‰ã¯ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãŒå•é¡Œã¨ãªã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¯ä½¿ã‚ãªã„ã‹ã€<a href="https://github.com/DaveGamble/cJSON/releases/tag/v1.7.19" title="Release 1.7.19 Â· DaveGamble/cJSON">æœ€æ–°ç‰ˆ</a> ã¸ã®ãƒ‘ãƒƒãƒã‚’å½“ã¦ã‚‹ã®ãŒå‰ã§ã™ã€‚</p>

<p>â€» Arduino ã‚µãƒãƒ¼ãƒˆã«ã¯æ—¢ã«é€£çµ¡æ¸ˆã¿ã§ã™ãŒã€éŸ³æ²™æ±°ãŒãªã„ãŸã‚ã®æ³¨æ„å–šèµ·ã§ã™ã€‚</p>

<div class="quote clear-both">

<details style="margin-bottom: 0">
<summary>cJSON 1.7.19 ã¸ã®ãƒ‘ãƒƒãƒã«ã¤ã„ã¦</summary>


<p><a href="https://github.com/embedded-kiddie/Arduino_JSON/tree/patch" title="embedded-kiddie/Arduino_JSON at patch">https://github.com/embedded-kiddie/Arduino_JSON/tree/patch</a> ã«ãƒ‘ãƒƒãƒã‚’å½“ã¦ãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä½œæˆã—ã¾ã—ãŸã€‚æ‹¡å¼µã•ã‚ŒãŸ AVR ç³»ã®ã‚³ãƒ¼ãƒ‰ã‚’å«ã‚ã¦æœ¬å®¶ã®ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’å®Ÿæ©Ÿã§æ¤œè¨¼ã—ãŸã„ã®ã§ã™ãŒã€ä½•ã› AVR ç³»ã¯æ‰‹æŒã¡ãŒãªã„ã®ã§ PR ã§ãã¦ã„ã¾ã›ã‚“ã€‚ã”å‚è€ƒã¾ã§ã€‚</p>

</details>

</div>

<p>æœ€ã‚‚ã‚ˆãä½¿ã† <a href="https://github.com/arduino-libraries/Arduino_JSON/blob/master/src/JSONVar.h" title="Arduino_JSON/src/JSONVar.h at master Â· arduino-libraries/Arduino_JSON">JSONVar ã‚¯ãƒ©ã‚¹</a> ã¯ã€ã€Œã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€ã€ã€Œé…åˆ—ã€ã€ã€Œæ•°å€¤ã‚„æ–‡å­—åˆ—ãªã©ã€ã®ï¼“ã¤ã®ã‚¿ã‚¤ãƒ—ã§æ§‹æˆã•ã‚Œã¦ã„ã‚‹ã¨è€ƒãˆã‚Œã°ç†è§£ã—æ˜“ã„ã¨æ€ã„ã¾ã™ã€‚ã¾ãšã¯ã‚ˆãä½¿ã†ãƒ¡ã‚½ãƒƒãƒ‰ã§ã™ã€‚</p>

<ul>
  <li>
    <p><strong>JSONVar parse(str)</strong><br />
<code class="language-plaintext highlighter-rouge">str</code> (<code class="language-plaintext highlighter-rouge">const char*</code> ã¾ãŸã¯ <code class="language-plaintext highlighter-rouge">const String&amp;</code>) ã‹ã‚‰ JSON ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ç”Ÿæˆã—ã¾ã™ã€‚</p>
  </li>
  <li>
    <p><strong>String stringify(const JSONVar&amp; value)</strong><br />
JSON ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æ–‡å­—åˆ—åŒ–ã—ã¾ã™ã€‚</p>
  </li>
  <li>
    <p><strong>String typeof(const JSONVar&amp; value)</strong><br />
<code class="language-plaintext highlighter-rouge">"object"</code>ã€<code class="language-plaintext highlighter-rouge">"array"</code>ã€<code class="language-plaintext highlighter-rouge">"boolean"</code>ã€<code class="language-plaintext highlighter-rouge">"number"</code>ã€<code class="language-plaintext highlighter-rouge">"string"</code>ã€<code class="language-plaintext highlighter-rouge">"null"</code> ãªã©ã€JSON ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚¿ã‚¤ãƒ—ã‚’è¿”ã—ã¾ã™ã€‚</p>
  </li>
  <li>
    <p><strong>int length(void)</strong><br />
ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ <code class="language-plaintext highlighter-rouge">{"key1" : value1, ...}</code> ã‚„ é…åˆ— <code class="language-plaintext highlighter-rouge">[...]</code> ã®è¦ç´ æ•°ã‚’è¿”ã—ã¾ã™ã€‚</p>
  </li>
  <li>
    <p><strong>JSONVar keys(void)</strong><br />
ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆä¸­ã®ã‚­ãƒ¼ã®é›†åˆã‚’é…åˆ—ã¨ã—ã¦è¿”ã—ã¾ã™ã€‚</p>
  </li>
  <li>
    <p><strong>size_t printTo(Print&amp; output)</strong><br />
<a href="https://github.com/arduino/ArduinoCore-API/blob/master/api/Printable.h" title="ArduinoCore-API/api/Printable.h at master Â· arduino/ArduinoCore-API">Printable ã‚¯ãƒ©ã‚¹</a> ã‚’ç¶™æ‰¿ã™ã‚‹ãƒ‡ãƒã‚¤ã‚¹ã« JSON ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æ–‡å­—åˆ—åŒ–ã—ã¦å‡ºåŠ›ã—ã¾ã™ã€‚</p>
  </li>
  <li>
    <p><strong>ã‚ªãƒ¼ãƒãƒ©ã‚¤ãƒ‰ã•ã‚ŒãŸ â€œ<code class="language-plaintext highlighter-rouge">=</code>â€ æ¼”ç®—å­ã¨ã‚­ãƒ£ã‚¹ãƒˆæ¼”ç®—å­</strong><br />
<code class="language-plaintext highlighter-rouge">JSONVar</code> ã®ä¸­èº«ã¯ <a href="https://github.com/DaveGamble/cJSON?tab=readme-ov-file#data-structure" title="DaveGamble/cJSON: Ultralightweight JSON parser in ANSI C">cJSON æ§‹é€ ä½“</a> ã§ç®¡ç†ã•ã‚Œã¦ãŠã‚Šã€JSON ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã€Œã‚­ãƒ¼ã€ã¯æ–‡å­—åˆ—ã€ã€Œå€¤ã€ã¯æ–‡å­—åˆ—ã‹æ•°å€¤ï¼ˆæ•´æ•°ã¾ãŸã¯æµ®å‹•å°æ•°ç‚¹ï¼‰ã‚’å–ã‚Šå¾—ã¾ã™ã€‚ç‰¹ã« <strong>ã‚­ãƒ£ã‚¹ãƒˆæ¼”ç®—å­</strong> ã¯ã€ã€Œå€¤ã€ã‚’ <code class="language-plaintext highlighter-rouge">char*</code> ã‚„ <code class="language-plaintext highlighter-rouge">int</code>ã€<code class="language-plaintext highlighter-rouge">double</code> ãªã©é©åˆ‡ãªå‹ã«å¤‰æ›ã™ã‚‹ãŸã‚ä½¿ã„ã¾ã™ã€‚</p>
  </li>
</ul>

<p>ã¾ãŸæ¬¡ã®ãƒ¡ã‚½ãƒƒãƒ‰ã¯Î²ç‰ˆã®ãŸã‚ã‹ã€æ©Ÿèƒ½ã™ã‚‹æ¡ä»¶ãŒã‹ãªã‚Šé™ã‚‰ã‚Œã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚</p>

<ul>
  <li>
    <p><strong>bool hasOwnProperty(key)</strong><br />
<code class="language-plaintext highlighter-rouge">key</code> (<code class="language-plaintext highlighter-rouge">const char*</code> ã¾ãŸã¯ <code class="language-plaintext highlighter-rouge">const String&amp;</code>) ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‹å¦ã‹ã‚’è¿”ã—ã¾ã™ã€‚</p>
  </li>
  <li>
    <p><strong>bool hasPropertyEqual(key, value)</strong><br />
<code class="language-plaintext highlighter-rouge">key</code> (<code class="language-plaintext highlighter-rouge">const char*</code> ã¾ãŸã¯ <code class="language-plaintext highlighter-rouge">const String&amp;</code>) ã« <code class="language-plaintext highlighter-rouge">value</code> (<code class="language-plaintext highlighter-rouge">const char*</code>ã€<code class="language-plaintext highlighter-rouge">const String&amp;</code> ã¾ãŸã¯ <code class="language-plaintext highlighter-rouge">const JSONVar&amp;</code>) ã¨ä¸€è‡´ã™ã‚‹å€¤ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ã‚’è¿”ã—ã¾ã™ã€‚</p>
  </li>
  <li>
    <p><strong>JSONVar filter(key, value)</strong><br />
<code class="language-plaintext highlighter-rouge">key</code> (<code class="language-plaintext highlighter-rouge">const char*</code> ã¾ãŸã¯ <code class="language-plaintext highlighter-rouge">const String&amp;</code>) ã¨ <code class="language-plaintext highlighter-rouge">value</code> (<code class="language-plaintext highlighter-rouge">const char*</code>ã€<code class="language-plaintext highlighter-rouge">const String&amp;</code> ã¾ãŸã¯ <code class="language-plaintext highlighter-rouge">const JSONVar&amp;</code>) ãŒå«ã¾ã‚Œã‚‹ JSON ãƒ‡ãƒ¼ã‚¿ã‚’éƒ¨åˆ†çš„ã«æŠ½å‡ºã—ã¾ã™ã€‚</p>
  </li>
</ul>

<p>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå­˜åœ¨ã›ãšã€ã¾ãŸ <a href="https://github.com/arduino-libraries/Arduino_JSON/tree/master/examples" title="Arduino_JSON/examples at master Â· arduino-libraries/Arduino_JSON">ä¾‹é¡Œ</a> ãŒå…¨ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ç¶²ç¾…ã—ã¦ã„ãªã„ã®ã§ä¸å®Œå…¨ã«ã¯ãªã‚Šã¾ã™ãŒã€ä¸Šè¨˜ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‚¹ã‚±ãƒƒãƒã‚’æ·»ä»˜ã—ã¦ãŠãã¾ã™ã€‚</p>

<div class="quote clear-both">

<details style="margin-bottom: 0">
<summary>Arduino_JSON ã®å„ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‚¹ã‚±ãƒƒãƒ</summary>


<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="err">#</span><span class="n">include</span> <span class="o">&lt;</span><span class="n">Arduino_JSON</span><span class="o">.</span><span class="na">h</span><span class="o">&gt;</span>
<span class="err">#</span><span class="n">include</span> <span class="o">&lt;</span><span class="no">SD</span><span class="o">.</span><span class="na">h</span><span class="o">&gt;</span>

<span class="kd">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">input</span> <span class="o">=</span> <span class="no">R</span><span class="s">"(
{
  "</span><span class="n">code</span><span class="s">": "</span><span class="mi">200</span><span class="s">",
  "</span><span class="n">message</span><span class="s">": 0,
  "</span><span class="n">list</span><span class="s">": [
    {
      "</span><span class="n">main</span><span class="s">": {
        "</span><span class="n">temp</span><span class="s">": 3.23,
        "</span><span class="n">pressure</span><span class="s">": 1014,
        "</span><span class="n">humidity</span><span class="s">": 58
      },
      "</span><span class="n">weather</span><span class="s">": {
        "</span><span class="n">main</span><span class="s">": "</span><span class="nc">Clear</span><span class="s">",
        "</span><span class="n">description</span><span class="s">": "</span><span class="n">clear</span> <span class="n">sky</span><span class="s">"
      },
      "</span><span class="n">dt</span><span class="s">": "</span><span class="mi">2020</span><span class="o">-</span><span class="mo">02</span><span class="o">-</span><span class="mi">12</span> <span class="mi">09</span><span class="o">:</span><span class="mo">00</span><span class="o">:</span><span class="mo">00</span><span class="s">"
    },
    {
      "</span><span class="n">main</span><span class="s">": {
        "</span><span class="n">temp</span><span class="s">": 6.09,
        "</span><span class="n">pressure</span><span class="s">": 1015,
        "</span><span class="n">humidity</span><span class="s">": 48
      },
      "</span><span class="n">weather</span><span class="s">": {
        "</span><span class="n">main</span><span class="s">": "</span><span class="nc">Clear</span><span class="s">",
        "</span><span class="n">description</span><span class="s">": "</span><span class="n">clear</span> <span class="n">sky</span><span class="s">"
      },
      "</span><span class="n">dt</span><span class="s">": "</span><span class="mi">2020</span><span class="o">-</span><span class="mo">02</span><span class="o">-</span><span class="mi">12</span> <span class="mi">12</span><span class="o">:</span><span class="mo">00</span><span class="o">:</span><span class="mo">00</span><span class="s">"
    }
  ],
  "</span><span class="n">city</span><span class="s">": {
    "</span><span class="n">name</span><span class="s">": "</span><span class="nc">London</span><span class="s">",
    "</span><span class="n">coord</span><span class="s">": {
      "</span><span class="n">lat</span><span class="s">": 51.5085,
      "</span><span class="n">lon</span><span class="s">": -0.1257
    }
  }
}
)"</span><span class="o">;</span>

<span class="kt">void</span> <span class="nf">Test_hasOwnProperty</span><span class="o">(</span><span class="nc">JSONVar</span> <span class="o">&amp;</span><span class="n">obj</span><span class="o">)</span> <span class="o">{</span>
  <span class="nc">Serial</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"===== Test_hasOwnProperty ====="</span><span class="o">);</span>
  <span class="nc">Serial</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">obj</span><span class="o">.</span><span class="na">hasOwnProperty</span><span class="o">(</span><span class="s">"code"</span><span class="o">));</span>             <span class="c1">// 1</span>
  <span class="nc">Serial</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">obj</span><span class="o">.</span><span class="na">hasOwnProperty</span><span class="o">(</span><span class="s">"main"</span><span class="o">));</span>             <span class="c1">// 0</span>
  <span class="nc">Serial</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">obj</span><span class="o">[</span><span class="s">"list"</span><span class="o">][</span><span class="mi">0</span><span class="o">].</span><span class="na">hasOwnProperty</span><span class="o">(</span><span class="s">"main"</span><span class="o">));</span>  <span class="c1">// 1</span>
<span class="o">}</span>

<span class="kt">void</span> <span class="nf">Test_hasPropertyEqual</span><span class="o">(</span><span class="nc">JSONVar</span> <span class="o">&amp;</span><span class="n">obj</span><span class="o">)</span> <span class="o">{</span>
  <span class="nc">JSONVar</span> <span class="kt">var</span> <span class="o">=</span> <span class="s">"London"</span><span class="o">;</span>

  <span class="nc">Serial</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"===== Test_hasPropertyEqual ====="</span><span class="o">);</span>
  <span class="nc">Serial</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">obj</span><span class="o">.</span><span class="na">hasPropertyEqual</span><span class="o">(</span><span class="s">"code"</span><span class="o">,</span> <span class="s">"200"</span><span class="o">));</span>            <span class="c1">// 1</span>
  <span class="nc">Serial</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">obj</span><span class="o">[</span><span class="s">"city"</span><span class="o">].</span><span class="na">hasPropertyEqual</span><span class="o">(</span><span class="s">"name"</span><span class="o">,</span> <span class="s">"London"</span><span class="o">));</span> <span class="c1">// 1</span>
  <span class="nc">Serial</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">obj</span><span class="o">[</span><span class="s">"city"</span><span class="o">].</span><span class="na">hasPropertyEqual</span><span class="o">(</span><span class="s">"name"</span><span class="o">,</span> <span class="kt">var</span><span class="o">));</span>      <span class="c1">// 1</span>
<span class="o">}</span>

<span class="kt">void</span> <span class="nf">Test_filter</span><span class="o">(</span><span class="nc">JSONVar</span> <span class="o">&amp;</span><span class="n">obj</span><span class="o">)</span> <span class="o">{</span>
  <span class="nc">JSONVar</span> <span class="kt">var</span><span class="o">;</span>
  <span class="kt">var</span><span class="o">[</span><span class="s">"name"</span><span class="o">]</span> <span class="o">=</span> <span class="s">"London"</span><span class="o">;</span>

  <span class="nc">Serial</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"===== Test_filter ====="</span><span class="o">);</span>
  <span class="nc">Serial</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="no">JSON</span><span class="o">.</span><span class="na">stringify</span><span class="o">(</span><span class="n">obj</span><span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="s">"code"</span><span class="o">,</span> <span class="s">"200"</span><span class="o">)));</span>            <span class="c1">// OK</span>
  <span class="nc">Serial</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="no">JSON</span><span class="o">.</span><span class="na">stringify</span><span class="o">(</span><span class="n">obj</span><span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="s">"city"</span><span class="o">,</span> <span class="kt">var</span><span class="o">)));</span>              <span class="c1">// null</span>
  <span class="nc">Serial</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="no">JSON</span><span class="o">.</span><span class="na">stringify</span><span class="o">(</span><span class="n">obj</span><span class="o">[</span><span class="s">"city"</span><span class="o">].</span><span class="na">filter</span><span class="o">(</span><span class="s">"name"</span><span class="o">,</span> <span class="s">"London"</span><span class="o">)));</span> <span class="c1">// OK</span>
<span class="o">}</span>

<span class="kt">void</span> <span class="nf">Test_printTo</span><span class="o">(</span><span class="nc">JSONVar</span> <span class="o">&amp;</span><span class="n">obj</span><span class="o">)</span> <span class="o">{</span>
  <span class="nc">Serial</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"===== Test_printTo ====="</span><span class="o">);</span>
  <span class="k">if</span> <span class="o">(!</span><span class="no">SD</span><span class="o">.</span><span class="na">begin</span><span class="o">())</span> <span class="o">{</span>
    <span class="nc">Serial</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"SD initialization failed."</span><span class="o">);</span>
    <span class="k">return</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="nc">File</span> <span class="n">myFile</span> <span class="o">=</span> <span class="no">SD</span><span class="o">.</span><span class="na">open</span><span class="o">(</span><span class="s">"/test.txt"</span><span class="o">,</span> <span class="no">FILE_WRITE</span><span class="o">);</span>
  <span class="k">if</span> <span class="o">(!</span><span class="n">myFile</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Serial</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Error opening test.txt"</span><span class="o">);</span>
    <span class="k">return</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="n">size_t</span> <span class="n">len</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="na">printTo</span><span class="o">(</span><span class="n">myFile</span><span class="o">);</span>
  <span class="n">myFile</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

  <span class="kt">char</span><span class="o">*</span> <span class="n">buf</span> <span class="o">=</span> <span class="o">(</span><span class="kt">char</span><span class="o">*)</span><span class="n">malloc</span><span class="o">(</span><span class="n">len</span> <span class="o">+</span> <span class="mi">1</span><span class="o">);</span>
  <span class="k">if</span> <span class="o">(!</span><span class="n">buf</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Serial</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"malloc failed."</span><span class="o">);</span>
    <span class="k">return</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="n">myFile</span> <span class="o">=</span> <span class="no">SD</span><span class="o">.</span><span class="na">open</span><span class="o">(</span><span class="s">"/test.txt"</span><span class="o">,</span> <span class="no">FILE_READ</span><span class="o">);</span>
  <span class="n">len</span> <span class="o">=</span> <span class="n">myFile</span><span class="o">.</span><span class="na">read</span><span class="o">((</span><span class="n">uint8_t</span><span class="o">*)</span><span class="n">buf</span><span class="o">,</span> <span class="n">len</span><span class="o">);</span>
  <span class="n">myFile</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
  <span class="n">buf</span><span class="o">[</span><span class="n">len</span><span class="o">]</span> <span class="o">=</span> <span class="sc">'\0'</span><span class="o">;</span>

  <span class="nc">JSONVar</span> <span class="n">tmp</span> <span class="o">=</span> <span class="no">JSON</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="n">buf</span><span class="o">);</span>
  <span class="nc">Serial</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="no">JSON</span><span class="o">.</span><span class="na">stringify</span><span class="o">(</span><span class="n">tmp</span><span class="o">));</span>
  <span class="n">free</span><span class="o">((</span><span class="kt">void</span><span class="o">*)</span><span class="n">buf</span><span class="o">);</span>
<span class="o">}</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="o">()</span> <span class="o">{</span>
  <span class="nc">Serial</span><span class="o">.</span><span class="na">begin</span><span class="o">(</span><span class="mi">115200</span><span class="o">);</span>
  <span class="k">while</span> <span class="o">(</span><span class="n">millis</span><span class="o">()</span> <span class="o">&lt;</span> <span class="mi">1500</span><span class="o">);</span>

  <span class="nc">Serial</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"\nStart."</span><span class="o">);</span>

  <span class="nc">JSONVar</span> <span class="n">myObject</span> <span class="o">=</span> <span class="no">JSON</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="n">input</span><span class="o">);</span>
  <span class="nc">String</span> <span class="n">type</span> <span class="o">=</span> <span class="no">JSON</span><span class="o">.</span><span class="na">typeof</span><span class="o">(</span><span class="n">myObject</span><span class="o">);</span>
  <span class="k">if</span> <span class="o">(</span><span class="n">type</span> <span class="o">==</span> <span class="s">"undefined"</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Serial</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Parsing input failed."</span><span class="o">);</span>
    <span class="k">return</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="n">Test_hasOwnProperty</span>   <span class="o">(</span><span class="n">myObject</span><span class="o">);</span>
  <span class="n">Test_hasPropertyEqual</span> <span class="o">(</span><span class="n">myObject</span><span class="o">);</span>
  <span class="n">Test_filter</span>           <span class="o">(</span><span class="n">myObject</span><span class="o">);</span>
  <span class="n">Test_printTo</span>          <span class="o">(</span><span class="n">myObject</span><span class="o">);</span>

  <span class="nc">Serial</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Done."</span><span class="o">);</span>
<span class="o">}</span>

<span class="kt">void</span> <span class="nf">loop</span><span class="o">()</span> <span class="o">{}</span></code></pre></figure>


</details>

</div>

<h3 id="arduinojson"><a href="https://arduinojson.org/" title="ArduinoJson: Efficient JSON serialization for embedded C++">ArduinoJson</a></h3>

<figure class="float-left">
  <a href="/images/2025/11-16/ArduinoJson.png" title="ArduinoJson" data-lightbox="image">
    <img src="/images/2025/11-16/ArduinoJson.png" alt="ArduinoJson" width="440" height="390" />
    <figcaption>ArduinoJson</figcaption>
  </a>
</figure>

<p>Arduino ç”¨ JSON ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã¯æœ€ã‚‚ã‚ˆãä½¿ã‚ã‚Œã¦ã„ã‚‹ã¨æ€ã‚ã‚Œã¾ã™ã€‚</p>

<p>ã¾ãšã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã«ã¤ã„ã¦ã§ã™ãŒã€<a href="https://www.cve.org/" title="Common vulnerabilities and Exposures (CVE)">cve.org</a> ã§æ¤œç´¢ã™ã‚‹ã¨ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ 4.5 ä»¥å‰ã® <a href="https://www.cve.org/CVERecord?id=CVE-2015-4590" title="Common vulnerabilities and Exposures (CVE)">CVE-2015-4590</a> ãŒãƒ’ãƒƒãƒˆã—ã¾ã™ãŒã€ç¾åœ¨ã¯ 6 ã¾ãŸã¯ 7 ãŒä¸»è¦ãªãƒãƒ¼ã‚¸ãƒ§ãƒ³ãªã®ã§ã€ç¾æ™‚ç‚¹ã§å¿ƒé…ã™ã‚‹å¿…è¦ã¯ãªã•ãã†ã§ã™ <span class="emoji">ğŸ˜‰</span></p>

<p>ãã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«ã¤ã„ã¦ã¯ã€6 ã¯çœãƒ¡ãƒ¢ãƒªã«ç‰¹åŒ–ã€7 ã¯ä½¿ã„å‹æ‰‹ã‚’æ”¹å–„ã—ãŸç‰ˆã«ä½ç½®ä»˜ã‘ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚ç‰¹ã« 7 ã¯ 6 ã«æ¯”ã¹ã¦ <a href="https://arduinojson.org/v7/how-to/upgrade-from-v6/#arduinojson-7-is-significantly-bigger-%EF%B8%8F" title="How to upgrade from ArduinoJson 6 to 7">ç›¸å½“ã«ãƒ‡ã‚«ããªã£ãŸ</a> ã®ã§ã€8 ãƒ“ãƒƒãƒˆç³»ã®ãƒã‚¤ã‚³ãƒ³ã§ã¯ 6 ãŒãŠè–¦ã‚ã¨ã®ã“ã¨ã§ã™ã€‚</p>

<p>æœ¬è¨˜äº‹ã§ã¯ 7 ã‚’å–ã‚Šä¸Šã’ã¾ã™ãŒã€<a href="https://qiita.com/BB-KING777/items/a4c0d0116ef8a0faa806" title="Arduinoã§Jsonã‚’ç”Ÿæˆã€è§£æã™ã‚‹ #C++ - Qiita">Arduinoã§Jsonã‚’ç”Ÿæˆã€è§£æã™ã‚‹</a> ã« 6 ã®è©³ã—ã„è§£èª¬ãŒã‚ã‚Šã€7 ã‚’ä½¿ã†å ´åˆã«ã‚‚ä¸€èª­ã™ã‚‹ã¨æ¦‚è¦ãŒæ´ã¿æ˜“ã„ã¨æ€ã„ã¾ã™ã€‚ã¾ãŸ <a href="https://arduinojson.org/v7/" title="Documentationï½œArduinoJson 7">API ã‚„ä¾‹é¡Œã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a> ãŒå®Œå‚™ã—ã¦ã„ã‚‹ãŸã‚ã‚³ã‚³ã§ã®è§£èª¬ã¯å‰²æ„›ã—ã¾ã™ãŒã€ä»¥ä¸‹ã¯çŸ¥ã£ã¦ãŠãã¨è‰¯ã„ã§ã—ã‚‡ã† <span class="emoji">ğŸ¤Ÿ</span></p>

<ul>
  <li>
    <p>å¤§å…ƒã®ã‚¯ãƒ©ã‚¹ã§ã‚ã‚‹ <a href="https://arduinojson.org/v7/api/jsondocument/" title="JsonDocumentï½œArduinoJson 7">JsonDocument</a> ã¨ã€ãã®æ§‹æˆè¦ç´ ã¨ã—ã¦ï¼“ã¤ã®ã‚¯ãƒ©ã‚¹ <a href="https://arduinojson.org/v7/api/jsonarray/" title="JsonArrayï½œArduinoJson 7">JsonArray</a>ã€<a href="https://arduinojson.org/v7/api/jsonobject/" title="JsonObjectï½œArduinoJson 7">JsonObject</a>ã€<a href="https://arduinojson.org/v7/api/jsonvariant/" title="JsonVariantï½œArduinoJson 7">JsonVariant</a> ãŒã‚ã‚‹ã€‚</p>
  </li>
  <li>
    <p>ä¸Šè¨˜ï¼“ã‚¯ãƒ©ã‚¹ã«ã¯ã€ãƒ¡ãƒ¢ãƒªã®æ¶ˆè²»é‡ã‚’åŠåˆ†ç¨‹åº¦ã«æŠ‘ãˆã‚‰ã‚Œã‚‹ read-only ã®æ´¾ç”Ÿã‚¯ãƒ©ã‚¹ <a href="https://arduinojson.org/v7/api/jsonarrayconst/" title="JsonArrayConstï½œArduinoJson 7">JsonArrayConst</a>ã€<a href="https://arduinojson.org/v7/api/jsonobjectconst/" title="JsonObjectConstï½œArduinoJson 7">JsonObjectConst</a>ã€<a href="https://arduinojson.org/v7/api/jsonvariantconst/" title="JsonVariantConstï½œArduinoJson 7">JsonVariantConst</a> ãŒã‚ã‚‹ã€‚</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">JsonArray</code> ã¨ <code class="language-plaintext highlighter-rouge">JsonObject</code> ã«ã¯ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ <code class="language-plaintext highlighter-rouge">begin() / end()</code> ãŒã€ã¾ãŸ <code class="language-plaintext highlighter-rouge">JsonObject</code> ã§ã¯ <a href="https://arduinojson.org/v7/api/jsonobject/begin_end/" title="JsonObject::begin() / JsonObject::end()ï½œArduinoJson 7"><code class="language-plaintext highlighter-rouge">JsonPair</code></a> ãŒä½¿ãˆã‚‹ã€‚</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">JsonDocument</code> ã¨ <code class="language-plaintext highlighter-rouge">JsonVariant</code> ã«ã¯ã€å‹ã‚’èª¿ã¹ã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ <code class="language-plaintext highlighter-rouge">is&lt;T&gt;()</code> ã¨ã€é©åˆ‡ãªå‹ã«ã‚­ãƒ£ã‚¹ãƒˆã™ã‚‹ãŸã‚ã® <code class="language-plaintext highlighter-rouge">as&lt;T&gt;()</code> ãŒã‚ã‚‹ã€‚</p>
  </li>
</ul>

<h4 id="arduinojson-assistant"><a href="https://arduinojson.org/v7/assistant/" title="ArduinoJson Assistant 7">ArduinoJson Assistant</a></h4>

<figure class="flex">
  <a href="/images/2025/11-16/ArduinoJsonAssistant1.jpg" title="ArduinoJson Assistant STEP1" data-lightbox="image">
    <img src="/images/2025/11-16/ArduinoJsonAssistant1-small.jpg" alt="ArduinoJson Assistant STEP1" width="800" height="640" />
    <figcaption>ArduinoJson Assistant STEP1</figcaption>
  </a>
  <a href="/images/2025/11-16/ArduinoJsonAssistant2.jpg" title="ArduinoJson Assistant STEP2" data-lightbox="image">
    <img src="/images/2025/11-16/ArduinoJsonAssistant2-small.jpg" alt="ArduinoJson Assistant STEP2" width="800" height="640" />
    <figcaption>ArduinoJson Assistant STEP2</figcaption>
  </a>
  <a href="/images/2025/11-16/ArduinoJsonAssistant3.jpg" title="ArduinoJson Assistant STEP3" data-lightbox="image">
    <img src="/images/2025/11-16/ArduinoJsonAssistant3-small.jpg" alt="ArduinoJson Assistant STEP3" width="800" height="640" />
    <figcaption>ArduinoJson Assistant STEP3</figcaption>
  </a>
</figure>

<p>ã‚¿ãƒ¼ã‚²ãƒƒãƒˆãƒœãƒ¼ãƒ‰ã¨ JSON ãƒ‡ãƒ¼ã‚¿ã‚’å…¥åŠ›ã™ã‚‹ã¨ã€äºˆæƒ³ã•ã‚Œã‚‹ãƒ¡ãƒ¢ãƒªé‡ã‚„å„è¦ç´ ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ C++ ã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã—ã¦ãã‚Œã‚‹ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚<a href="https://arduinojson.org/v7/example/filter/" title="JsonFilterExample.inoï½œArduinoJson 7">filter</a> ã‚’è©¦ã—ãŸã‚Šã€<a href="https://arduinojson.org/v7/api/jsondocument/as/" title="JsonDocument::as&lt;T&gt;()ï½œArduinoJson 7"><code class="language-plaintext highlighter-rouge">as&lt;T&gt;()</code></a> ã®ä½¿ã„æ–¹ãŒåˆ†ã‹ã‚‹ã®ã§ã€ä¸€åº¦è©¦ã—ã¦ã¿ã‚‹ã¨è‰¯ã„ã¨æ€ã„ã¾ã™ <span class="emoji">ğŸ‘</span></p>

<h2 id="json-ãƒ‡ãƒ¼ã‚¿ã®èµ°æŸ»">JSON ãƒ‡ãƒ¼ã‚¿ã®èµ°æŸ»</h2>

<p>ä»Šå›ã®ãŠé¡Œã§ã¯ JSON ãƒ‡ãƒ¼ã‚¿ã‚’é ­ã‹ã‚‰ãŠå°»ã¾ã§èµ°æŸ»ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãŸã‚ã€å‰ç« ã§ç´¹ä»‹ã—ãŸï¼’ã¤ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ãã®ã‚ˆã†ãªã‚¹ã‚±ãƒƒãƒã‚’ä½œæˆã—ã¾ã—ãŸã€‚æœ¬æ¥ã€Œã‚­ãƒ¼ã€ã‚„ã€Œå€¤ã€ã‚’å‡¦ç†ã™ã‚‹ã¨ã“ã‚ã¯ã‚·ãƒªã‚¢ãƒ«ãƒ¢ãƒ‹ã‚¿ã¸ã®å‡ºåŠ›ã¨ã—ã¦ã„ã¾ã™ã€‚</p>

<p>æœ¬æ¥ã¯å‡¦ç†æ™‚é–“ã‚‚è¨ˆæ¸¬ã™ã¹ãã§ã™ãŒâ€¦ã€ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã¯ãƒã‚«ã£é€Ÿãª ESP32 ãªã®ã§å•é¡Œã¨ãªã‚‰ãªã„ã¨è¸ã‚“ã§çœç•¥ã§ã™ <span class="emoji">ğŸ˜…</span></p>

<p>ã¾ãŸå†å¸°å‘¼ã³å‡ºã—ã§å®Ÿè£…ã—ã¦ã„ã‚‹ãŸã‚ã€ã‚¹ã‚¿ãƒƒã‚¯ã®æ¶ˆè²»é‡ã¯å¤šã‚ã§ã™ã€‚</p>

<h3 id="arduino_json-ç‰ˆ">Arduino_JSON ç‰ˆ</h3>

<p>å†å¸°çš„é–¢æ•°ã®å¼•æ•°ã‚’å‚ç…§å‹ã«ã—ãŸã‹ã£ãŸã®ã§ã™ãŒã€ä¸Šæ‰‹ãã„ã‹ãšã€ã‚³ãƒ”ãƒ¼ã§å¼•ãå›ã—ã¦ã¾ã™ã€‚ãã®ãŸã‚ <a href="#arduinojson-ç‰ˆ">ArduinoJson ç‰ˆ</a> ã«æ¯”ã¹ã€ãƒ’ãƒ¼ãƒ—ãƒ¡ãƒ¢ãƒªã®æ¶ˆè²»é‡ãŒï¼’å€ã»ã©ã«ãªã£ã¡ã‚ƒã„ã¾ã—ãŸ <span class="emoji">ğŸ˜…</span></p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="err">#</span><span class="n">include</span> <span class="o">&lt;</span><span class="n">Arduino_JSON</span><span class="o">.</span><span class="na">h</span><span class="o">&gt;</span>

<span class="c1">// JSON ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿</span>
<span class="kd">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">input</span> <span class="o">=</span> <span class="no">R</span><span class="s">"(
  // ã“ã“ã« JSON ãƒ‡ãƒ¼ã‚¿ã‚’è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„
)"</span><span class="o">;</span>

<span class="c1">// æ•´å½¢ç”¨ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã®å‡ºåŠ›</span>
<span class="n">inline</span> <span class="kt">void</span> <span class="nf">Indent</span><span class="o">(</span><span class="kt">int</span> <span class="n">depth</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">while</span> <span class="o">(</span><span class="n">depth</span><span class="o">--</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Serial</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"  "</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="c1">// JSON ãƒ‡ãƒ¼ã‚¿ã®èµ°æŸ»</span>
<span class="kt">void</span> <span class="nf">Traverse</span><span class="o">(</span><span class="nc">JSONVar</span> <span class="n">obj</span><span class="o">,</span> <span class="kt">int</span> <span class="n">depth</span> <span class="o">=</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
  <span class="nc">String</span> <span class="n">type</span> <span class="o">=</span> <span class="no">JSON</span><span class="o">.</span><span class="na">typeof</span><span class="o">(</span><span class="n">obj</span><span class="o">);</span>

  <span class="k">if</span> <span class="o">(</span><span class="n">type</span> <span class="o">==</span> <span class="s">"array"</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">obj</span><span class="o">.</span><span class="na">length</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
      <span class="nc">Traverse</span><span class="o">(</span><span class="n">obj</span><span class="o">[</span><span class="n">i</span><span class="o">],</span> <span class="n">depth</span><span class="o">);</span> <span class="c1">// é…åˆ—ã®å„è¦ç´ ã‚’èµ°æŸ»</span>
    <span class="o">}</span>
  <span class="o">}</span>

  <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">type</span> <span class="o">==</span> <span class="s">"object"</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">obj</span><span class="o">.</span><span class="na">keys</span><span class="o">().</span><span class="na">length</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
      <span class="nc">Indent</span><span class="o">(</span><span class="n">depth</span><span class="o">);</span>
      <span class="n">obj</span><span class="o">.</span><span class="na">keys</span><span class="o">()[</span><span class="n">i</span><span class="o">].</span><span class="na">printTo</span><span class="o">(</span><span class="nc">Serial</span><span class="o">);</span>  <span class="c1">// ä½•ã‹å‡¦ç†ã™ã‚‹ä»£ã‚ã‚Šã«ã‚·ãƒªã‚¢ãƒ«ãƒ¢ãƒ‹ã‚¿ã«å‡ºåŠ›</span>
      <span class="nc">Serial</span><span class="o">.</span><span class="na">println</span><span class="o">();</span>
      <span class="nc">Traverse</span><span class="o">(</span><span class="n">obj</span><span class="o">[</span><span class="n">obj</span><span class="o">.</span><span class="na">keys</span><span class="o">()[</span><span class="n">i</span><span class="o">]],</span> <span class="n">depth</span> <span class="o">+</span> <span class="mi">1</span><span class="o">);</span>  <span class="c1">// æ¬¡ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’èµ°æŸ»</span>
    <span class="o">}</span>
  <span class="o">}</span>

  <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">type</span> <span class="o">!=</span> <span class="s">"undefined"</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Indent</span><span class="o">(</span><span class="n">depth</span><span class="o">);</span>
    <span class="n">obj</span><span class="o">.</span><span class="na">printTo</span><span class="o">(</span><span class="nc">Serial</span><span class="o">);</span>              <span class="c1">// ä½•ã‹å‡¦ç†ã™ã‚‹ä»£ã‚ã‚Šã«ã‚·ãƒªã‚¢ãƒ«ãƒ¢ãƒ‹ã‚¿ã«å‡ºåŠ›</span>
    <span class="nc">Serial</span><span class="o">.</span><span class="na">println</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="o">()</span> <span class="o">{</span>
  <span class="nc">Serial</span><span class="o">.</span><span class="na">begin</span><span class="o">(</span><span class="mi">115200</span><span class="o">);</span>
  <span class="k">while</span> <span class="o">(</span><span class="n">millis</span><span class="o">()</span> <span class="o">&lt;</span> <span class="mi">1500</span><span class="o">);</span>

  <span class="nc">JSONVar</span> <span class="n">obj</span> <span class="o">=</span> <span class="no">JSON</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="n">input</span><span class="o">);</span>

  <span class="nc">String</span> <span class="n">type</span> <span class="o">=</span> <span class="no">JSON</span><span class="o">.</span><span class="na">typeof</span><span class="o">(</span><span class="n">obj</span><span class="o">);</span>
  <span class="k">if</span> <span class="o">(</span><span class="n">type</span> <span class="o">==</span> <span class="s">"undefined"</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Serial</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Parsing input failed!"</span><span class="o">);</span>
    <span class="k">return</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="nc">Traverse</span><span class="o">(</span><span class="n">obj</span><span class="o">);</span>                       <span class="c1">// JSON ãƒ‡ãƒ¼ã‚¿ã®èµ°æŸ»</span>
  <span class="nc">Serial</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="no">JSON</span><span class="o">.</span><span class="na">stringify</span><span class="o">(</span><span class="n">obj</span><span class="o">));</span> <span class="c1">// ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ã‚ˆã‚‹ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚º</span>
<span class="o">}</span>

<span class="kt">void</span> <span class="nf">loop</span><span class="o">()</span> <span class="o">{}</span></code></pre></figure>

<h3 id="arduinojson-ç‰ˆ">ArduinoJson ç‰ˆ</h3>

<p>å†å¸°å‘¼ã³å‡ºã—ã™ã‚‹é–¢æ•°ã¸ã®å¼•æ•°ã‚’ <code class="language-plaintext highlighter-rouge">JsonVariant</code> ã§ã¯ãªã <code class="language-plaintext highlighter-rouge">JsonVariantConst</code> ã¨ã™ã‚‹ã“ã¨ã§ã€ãƒ’ãƒ¼ãƒ—ãƒ¡ãƒ¢ãƒªã®æ¶ˆè²»é‡ãŒ <a href="#arduino_json-ç‰ˆ">Arduino_JSON ç‰ˆ</a> ã®åŠåˆ†ç¨‹åº¦ã«ãªã£ã¦ã„ã¾ã™ã€‚</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="err">#</span><span class="n">include</span> <span class="o">&lt;</span><span class="nc">ArduinoJson</span><span class="o">.</span><span class="na">h</span><span class="o">&gt;</span>

<span class="c1">// JSON ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿</span>
<span class="kd">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">input</span> <span class="o">=</span> <span class="no">R</span><span class="s">"(
  // ã“ã“ã« JSON ãƒ‡ãƒ¼ã‚¿ã‚’è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„
)"</span><span class="o">;</span>

<span class="c1">// JSON ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å‹</span>
<span class="n">typedef</span> <span class="kd">enum</span> <span class="o">{</span>
  <span class="no">JSON_ARRAY</span><span class="o">,</span>
  <span class="no">JSON_OBJECT</span><span class="o">,</span>
  <span class="no">JSON_VARIANT</span><span class="o">,</span>
<span class="o">}</span> <span class="n">JsonType_t</span><span class="o">;</span>

<span class="c1">// JSON ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å‹åˆ¤å®š</span>
<span class="n">JsonType_t</span> <span class="nf">TypeOf</span><span class="o">(</span><span class="nc">JsonVariantConst</span> <span class="n">doc</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">if</span> <span class="o">(</span><span class="n">doc</span><span class="o">.</span><span class="na">is</span><span class="o">&lt;</span><span class="nc">JsonArrayConst</span><span class="o">&gt;())</span> <span class="o">{</span>
    <span class="k">return</span> <span class="no">JSON_ARRAY</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">doc</span><span class="o">.</span><span class="na">is</span><span class="o">&lt;</span><span class="nc">JsonObjectConst</span><span class="o">&gt;())</span> <span class="o">{</span>
    <span class="k">return</span> <span class="no">JSON_OBJECT</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="k">return</span> <span class="no">JSON_VARIANT</span><span class="o">;</span>
<span class="o">}</span>

<span class="c1">// æ•´å½¢ç”¨ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã®å‡ºåŠ›</span>
<span class="n">inline</span> <span class="kt">void</span> <span class="nf">Indent</span><span class="o">(</span><span class="kt">int</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">while</span> <span class="o">(</span><span class="n">n</span><span class="o">--</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Serial</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"  "</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="c1">// JSON ãƒ‡ãƒ¼ã‚¿ã®èµ°æŸ»</span>
<span class="kt">void</span> <span class="nf">Traverse</span><span class="o">(</span><span class="nc">JsonVariantConst</span> <span class="n">doc</span><span class="o">,</span> <span class="kt">int</span> <span class="n">depth</span> <span class="o">=</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">switch</span> <span class="o">(</span><span class="nc">TypeOf</span><span class="o">(</span><span class="n">doc</span><span class="o">))</span> <span class="o">{</span>
    <span class="k">case</span> <span class="nl">JSON_ARRAY:</span>
      <span class="k">for</span> <span class="o">(</span><span class="nc">JsonVariantConst</span> <span class="n">value</span> <span class="o">:</span> <span class="n">doc</span><span class="o">.</span><span class="na">as</span><span class="o">&lt;</span><span class="nc">JsonArrayConst</span><span class="o">&gt;())</span> <span class="o">{</span>
        <span class="nc">Traverse</span><span class="o">(</span><span class="n">value</span><span class="o">,</span> <span class="n">depth</span><span class="o">);</span> <span class="c1">// é…åˆ—ã®å„è¦ç´ ã‚’èµ°æŸ»</span>
      <span class="o">}</span>
      <span class="k">break</span><span class="o">;</span>

    <span class="k">case</span> <span class="nl">JSON_OBJECT:</span>
      <span class="k">for</span> <span class="o">(</span><span class="nc">JsonPairConst</span> <span class="n">kv</span> <span class="o">:</span> <span class="n">doc</span><span class="o">.</span><span class="na">as</span><span class="o">&lt;</span><span class="nc">JsonObjectConst</span><span class="o">&gt;())</span> <span class="o">{</span>
        <span class="nc">Indent</span><span class="o">(</span><span class="n">depth</span><span class="o">);</span>                    <span class="c1">// ä½•ã‹å‡¦ç†ã™ã‚‹ä»£ã‚ã‚Šã«ã‚·ãƒªã‚¢ãƒ«ãƒ¢ãƒ‹ã‚¿ã«å‡ºåŠ›</span>
        <span class="nc">Serial</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">kv</span><span class="o">.</span><span class="na">key</span><span class="o">().</span><span class="na">c_str</span><span class="o">());</span> <span class="c1">// ã€Œã‚­ãƒ¼ã€ã¯ JsonString å‹</span>
        <span class="nc">Traverse</span><span class="o">(</span><span class="n">kv</span><span class="o">.</span><span class="na">value</span><span class="o">(),</span> <span class="n">depth</span> <span class="o">+</span> <span class="mi">1</span><span class="o">);</span>  <span class="c1">// æ¬¡ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’èµ°æŸ»</span>
      <span class="o">}</span>
      <span class="k">break</span><span class="o">;</span>

    <span class="k">case</span> <span class="nl">JSON_VARIANT:</span>
    <span class="k">default</span><span class="o">:</span>
      <span class="nc">Indent</span><span class="o">(</span><span class="n">depth</span><span class="o">);</span>                      <span class="c1">// ä½•ã‹å‡¦ç†ã™ã‚‹ä»£ã‚ã‚Šã«ã‚·ãƒªã‚¢ãƒ«ãƒ¢ãƒ‹ã‚¿ã«å‡ºåŠ›</span>
      <span class="n">serializeJson</span><span class="o">(</span><span class="n">doc</span><span class="o">,</span> <span class="nc">Serial</span><span class="o">);</span>         <span class="c1">// ã€Œå€¤ã€ã¯ JsonVariant::as&lt;T&gt;() ã§å–å¾—</span>
      <span class="nc">Serial</span><span class="o">.</span><span class="na">println</span><span class="o">();</span>
      <span class="k">break</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="o">()</span> <span class="o">{</span>
  <span class="c1">// Initialize serial port</span>
  <span class="nc">Serial</span><span class="o">.</span><span class="na">begin</span><span class="o">(</span><span class="mi">115200</span><span class="o">);</span>
  <span class="k">while</span> <span class="o">(</span><span class="n">millis</span><span class="o">()</span> <span class="o">&lt;</span> <span class="mi">1500</span><span class="o">);</span>

  <span class="nc">JsonDocument</span> <span class="n">doc</span><span class="o">;</span>
  <span class="nc">DeserializationError</span> <span class="n">error</span> <span class="o">=</span> <span class="n">deserializeJson</span><span class="o">(</span><span class="n">doc</span><span class="o">,</span> <span class="n">input</span><span class="o">);</span>
  <span class="k">if</span> <span class="o">(</span><span class="n">error</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Serial</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"deserializeJson() failed: "</span><span class="o">);</span>
    <span class="nc">Serial</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">error</span><span class="o">.</span><span class="na">c_str</span><span class="o">());</span>
    <span class="k">return</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="nc">Traverse</span><span class="o">(</span><span class="n">doc</span><span class="o">);</span>                    <span class="c1">// JSON ãƒ‡ãƒ¼ã‚¿ã®èµ°æŸ»</span>
  <span class="n">serializeJsonPretty</span><span class="o">(</span><span class="n">doc</span><span class="o">,</span> <span class="nc">Serial</span><span class="o">);</span> <span class="c1">// ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ã‚ˆã‚‹ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚º</span>
<span class="o">}</span>

<span class="kt">void</span> <span class="nf">loop</span><span class="o">()</span> <span class="o">{}</span></code></pre></figure>

<h2 id="ä»Šå›ã®æ¯”è¼ƒçµæœ-ã¾ã¨ã‚">ä»Šå›ã®æ¯”è¼ƒçµæœ ã¾ã¨ã‚</h2>

<p>Arduino æœ¬å®¶ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ã¯ã€ãã®ã‚·ãƒ³ãƒ—ãƒ«ãª API æ•…ã«æœŸå¾…ã‚’å¯„ã›ã¦ã„ãŸã®ã§ã™ãŒã€Î²ç‰ˆã«æ­¢ã¾ã£ã¦ã„ã‚‹ã“ã¨ã‚‚ã‚ã‚Šã€ArduinoJson ã«è»é…ãŒæŒ™ãŒã‚‹ã¨æ€ã„ã¾ã™ã€‚Arduino æœ¬å®¶ã«ã‚‚é ‘å¼µã£ã¦æ¬²ã—ã„ã¨ã“ã‚ã§ã™ãŒã€äººæ°—ã®ç¨‹ã‹ã‚‰ã—ã¦ã‚‚é †å½“ã¨ã„ã†ã¨ã“ã‚ã§ã—ã‚‡ã†ã€‚</p>

<figure class="flex">
  <div data-lightbox="image">
    <img src="/images/2025/11-16/Comparison.png" alt="Arduino ç”¨ JSON ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®æ¯”è¼ƒ" width="1196" height="180" />
    <figcaption>Arduino ç”¨ JSON ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®æ¯”è¼ƒ</figcaption>
  </div>
</figure>

<p>ã¾ãŸ ArduinoJson ã®ä½œè€…è‡ªã‚‰ãŒ <a href="https://arduinojson.org/news/2019/11/19/arduinojson-vs-arduino_json/" title="ArduinoJson vs Arduino_JSON">ArduinoJson vs Arduino_JSON</a> ã§ã€ArduinoJson 6.13 ã¨ Arduino_JSON 0.1.0 ã®æ¯”è¼ƒã‚’ã—ã¦ã„ã‚‹ã®ã§ã€å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚</p>

<h2 id="ãŠã¾ã‘">ãŠã¾ã‘</h2>

<ul>
  <li>JSON é–¢é€£
    <ul>
      <li>
        <p><a href="https://jsoneditoronline.org/" title="JSON Editor Online: edit JSON, format JSON, query JSON">JSON Editor Online</a><br />
å…ƒã¯ Google Chrome ã®æ‹¡å¼µæ©Ÿèƒ½ã ã£ãŸã‚ˆã†ã§ã™ãŒã€ç¾åœ¨ã¯ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ãƒ„ãƒ¼ãƒ«ã¨ãªã£ã¦ã„ã¾ã™ã€‚JSON ãƒ‡ãƒ¼ã‚¿ã®èª¤ã‚Šã‚’ä¿®æ­£ã™ã‚‹æ‰‹åŠ©ã‘ã‚’ã—ã¦ãã‚ŒãŸã‚Šã€Javascript ã® filter ã‚’è©¦ã›ãŸã‚Šã¨ã€ã¨ã£ã¦ã‚‚ä¾¿åˆ©ãªãƒ„ãƒ¼ãƒ«ã§ã™ã€‚</p>
      </li>
      <li>
        <p><a href="https://qiita.com/_meki/items/53db5976a041546eb8c4" title="C++ ã§ã‚‚ PHP ã®ãƒ’ã‚¢ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆçš„ãªã“ã¨ãŒã§ãã‚‹ (raw string literal) #C++ - Qiita">C++ ã§ã‚‚ PHP ã®ãƒ’ã‚¢ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆçš„ãªã“ã¨ãŒã§ãã‚‹ (raw string literal)</a><br />
C++ ã§ã‚‚å‡ºæ¥ã‚‹ã£ã¦äº‹ã€çŸ¥ã‚Šã¾ã›ã‚“ã§ã—ãŸâ€¦</p>
      </li>
    </ul>
  </li>
  <li>ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é–¢é€£
    <ul>
      <li>
        <p><a href="https://jvndb.jvn.jp/ja/contents/2025/JVNDB-2025-013381.html" title="JVNDB-2025-013381 - JVN iPedia - è„†å¼±æ€§å¯¾ç­–æƒ…å ±ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹">JVNDB-2025-013381 Dave Gamble ã® cJSON ã«ãŠã‘ã‚‹å¢ƒç•Œå¤–èª­ã¿å–ã‚Šã«é–¢ã™ã‚‹è„†å¼±æ€§</a>ï¼ˆ<a href="https://www.cve.org/CVERecord?id=CVE-2025-57052" title="Common vulnerabilities and Exposures (CVE)">CVE-2025-57052</a>ï¼‰<br />
2025å¹´9æœˆã«å…¬è¡¨ã•ã‚ŒãŸ cJSON ã®æ·±åˆ»ãªè„†å¼±æ€§ã§ã™ã€‚å¹¸ã„ Arduino_JSON ã«ã¯å«ã¾ã‚Œã¦ã„ãªã„ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ãŒå¯¾è±¡ã§ã™ã€‚</p>
      </li>
      <li>
        <p><a href="https://github.com/search?q=repo%3ADaveGamble%2FcJSON+CVE&amp;type=pullrequests" title="Pull request search results">cJSON ã® CVE é–¢é€£ãƒ—ãƒ«ãƒªã‚¯</a><br />
å…¨ã¦ã§ã¯ã‚ã‚Šã¾ã›ã‚“ãŒã€Arduino_JSON ã«ã‚‚é–¢é€£ã™ã‚‹è„†å¼±æ€§ã‚’ä¿®æ­£ã™ã‚‹ãƒ—ãƒ«ãƒªã‚¯ã®ãƒªã‚¹ãƒˆã§ã™ã€‚</p>
      </li>
    </ul>
  </li>
</ul>


  </div>
  <div class="wrapper pager">
    <p class="prev">
      <a href="/2025/08/16/" title="å‰ã®è¨˜äº‹ï¼šESP32 2432S028Rã§LVGL - Explorerã‚„Finderã®æ§˜ã«ãƒ•ã‚©ãƒ«ãƒ€ã‚’æŠ˜ã‚Šç•³ã‚ã‚‹ UI ã®å®Ÿè£…">â† ESP32 2432S028Rã§LVGL - Explorerã‚„Finderã®æ§˜ã«ãƒ•ã‚©ãƒ«ãƒ€ã‚’æŠ˜ã‚Šç•³ã‚ã‚‹ UI ã®å®Ÿè£…</a>
    </p>

    <p class="next">
      <a href="/" title="Home ã«æˆ»ã‚‹">Home ã«æˆ»ã‚‹</a>
    </p>    
  </div>
<div id="disqus_thread"><span id="disqus-comment-count" class="disqus-comment-count" data-disqus-url="https://embedded-kiddie.github.io/2025/11/16/"></span><button id="open_disqus" class="simple" title="ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã‚³ãƒ¡ãƒ³ãƒˆãƒ•ã‚©ãƒ¼ãƒ ãŒé–‹ãã¾ã™"><img src="/images/comment-disqus.png" width="1536" height="866" alt="Disqus ã‚³ãƒ¡ãƒ³ãƒˆãƒ•ã‚©ãƒ¼ãƒ " /></button></div><a class="u-url" href="/2025/11/16/" hidden></a>
</article>

      </div>
    </main>
<footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Embedded Kiddie</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Kingsman</li><li><a class="u-email" href="https://mailhide.io/e/DpUPhw9C" onclick="popup=window.open('https://mailhide.io/e/DpUPhw9C','mailhidepopup','width=580,height=635'); return false;">e......@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/embedded-kiddie"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">embedded-kiddie</span></a></li><li><a href="https://www.twitter.com/EmbeddedKiddie"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">EmbeddedKiddie</span></a></li><li><a href="https://youtube.com/@EmbeddedKiddie"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#youtube"></use></svg> <span class="username">EmbeddedKiddie</span></a></li></ul></div>

      <div class="footer-col footer-col-3">
        <p>çµ„ã¿è¾¼ã¿ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã€‚ã‹ã¤ã¦ã¯è¶£å‘³ã§WordPressãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãªã©ãƒªãƒªãƒ¼ã‚¹ã€‚ èˆˆå‘³ã‚’ãƒ­ãƒœãƒƒãƒˆã‚„é›»å­å·¥ä½œã«è»¢ã˜ã€ãƒãƒ¼ãƒ‰ã¨ã‚½ãƒ•ãƒˆã‚’å†å‹‰å¼·ã™ã‚‹æ—¥ã€…ã€‚</p>
      </div>
    </div>

  </div>
  <button id="js-pagetop" class="pagetop"><span class="pagetop_arrow"></span></button>
</footer>

<script async src="https://cdn.jsdelivr.net/npm/luminous-lightbox@2.4.0/dist/luminous.min.js" integrity="sha256-4vMnmzhFzuXVxRHRFNwJzPnT923+MfWHWU4deBjd/vQ=" crossorigin="anonymous"></script>
<script async src="/assets/luminous-config.min.js"></script>
<script>'use strict';(function(){const h=document.querySelector("#js-pagetop");h.addEventListener("click",a=>{function d(g){null==k&&(k=g);g-=k;var n=g/500;window.scrollTo(0,p-p*(1===n?1:-Math.pow(2,-10*n)+1));500>g?requestAnimationFrame(d):window.scroll(f)}a.stopPropagation();const f={top:0,left:0},p=window.scrollY;let k=null;window.scroll(f);requestAnimationFrame(d)});window.addEventListener("scroll",a=>{1<window.scrollY?h.classList.add("fadeIn"):h.classList.remove("fadeIn");"undefined"===typeof commentCount||commentCount.done||commentCount.show(a)});let l=document.createElement("button");l.className="code-copy";l.setAttribute("title","\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u306b\u30b3\u30d4\u30fc");let e=document.createElement("span");e.className="code-copy-notice";e.textContent="";let b=document.getElementsByTagName("pre"),c=Array(b.length),m=Array(b.length);for(let a=0;a<b.length;a++)b[a].parentNode.classList.contains("highlight")&&(c[a]=l.cloneNode(!0),c[a].addEventListener("click",()=>{let d=window.getSelection(),f=c[a].parentNode;d.selectAllChildren(f);d.extend(f,f.childNodes.length-1);navigator.clipboard?navigator.clipboard.writeText(d).then(()=>{d.removeAllRanges();e.textContent="\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f";e.classList.add("code-copy-notice-after");setTimeout(()=>{e.classList.remove("code-copy-notice-after");e.textContent=""},1300)}).catch(()=>{alert("\u30b3\u30d4\u30fc\u5931\u6557\uff01")}):document.execCommand("copy")}),b[a].addEventListener("mouseenter",()=>{b[a].appendChild(c[a]);c[a].appendChild(e)}),b[a].addEventListener("mouseleave",()=>{c[a].remove()}),b[a].addEventListener("scroll",()=>{c[a].style.visibility="hidden";null!=m[a]&&clearTimeout(m[a]);m[a]=setTimeout(()=>{c[a].style.visibility="visible"},500);c[a].style.right=-b[a].scrollLeft+"px"}));const T=document.querySelector('#disqus-comment-count');const commentCount={done:!1,show:function(e){const r=T.getBoundingClientRect();if(r.top<=window.innerHeight&&r.bottom>=0){this.done=!0;const s=document.createElement('script');s.id="dsq-count-scr";s.src="https://embedded-kiddie.disqus.com/count.js";T.appendChild(s)}}};if("embedded-kiddie.github.io"===window.location.hostname){const o=new MutationObserver(records=>{let t=parseInt(T.textContent);if(t!==NaN&&t){let e=new Event('click');document.querySelector('#open_disqus').dispatchEvent(e)}});o.observe(T,{childList:!0});document.querySelector('#open_disqus').addEventListener('click',(e)=>{var disqus_config=function(){this.page.url="https://embedded-kiddie.github.io/2025/11/16/";this.page.identifier="/2025/11/16/"};const d=document,s=d.createElement('script');s.src="https://embedded-kiddie.disqus.com/embed.js";s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);o.disconnect()})}})();</script>
</body>
</html>